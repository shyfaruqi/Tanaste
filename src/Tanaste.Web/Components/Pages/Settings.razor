@page "/settings"
@rendermode InteractiveServer
@namespace Tanaste.Web.Components.Pages
@inject NavigationManager Nav

<PageTitle>Settings â€” Tanaste</PageTitle>

<MudStack Row="true" AlignItems="AlignItems.Center" Class="mb-1">
    <MudText Typo="Typo.h4" Style="flex: 1;">System Hub</MudText>
    <MudIconButton Icon="@Icons.Material.Filled.Close"
                   Color="Color.Default"
                   Size="Size.Medium"
                   title="Close settings"
                   OnClick="@(() => Nav.NavigateTo("/"))" />
</MudStack>
<MudText Typo="Typo.body2" Color="Color.Secondary" Class="mb-6">
    Configure where Tanaste looks for files, manage access keys, and monitor source connections.
</MudText>

<SettingsTabBar ActiveTab="@_activeTab" OnTabChanged="@OnTabChanged" />

@switch (_activeTab)
{
    case SettingsTabBar.SettingsTab.General:
        <GeneralTab />
        break;
    case SettingsTabBar.SettingsTab.Folders:
        <FoldersTab />
        break;
    case SettingsTabBar.SettingsTab.Providers:
        <ProvidersTab />
        break;
    case SettingsTabBar.SettingsTab.Security:
        <SecurityTab />
        break;
    case SettingsTabBar.SettingsTab.Activity:
        <ActivityTab />
        break;
    case SettingsTabBar.SettingsTab.Notifications:
        <NotificationsTab />
        break;
}

@code {
    private SettingsTabBar.SettingsTab _activeTab = SettingsTabBar.SettingsTab.General;

    private void OnTabChanged(SettingsTabBar.SettingsTab tab)
    {
        _activeTab = tab;
    }
}
